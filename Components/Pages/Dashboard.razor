@page "/dashboard"
@using PackTrack.Components.Layout
@layout MainLayout

<PageTitle>Dashboard - PackSight</PageTitle>

<MudGrid Spacing="6" Class="mb-8">
    <!-- Quick Stats -->
    <MudItem xs="12" sm="6" md="3">
        <MudPaper Elevation="4" Class="pa-4 d-flex flex-column gap-2" Style="height: 100%;">
            <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.subtitle2" Color="Color.Secondary">Total Production</MudText>
                <MudIcon Icon="@Icons.Material.Filled.Inventory" Color="Color.Primary" />
            </MudStack>
            <MudText Typo="Typo.h5" Style="font-weight: bold;">12,500</MudText>
            <MudText Typo="Typo.caption" Color="Color.Success">+150 today</MudText>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
        <MudPaper Elevation="4" Class="pa-4 d-flex flex-column gap-2" Style="height: 100%;">
             <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.subtitle2" Color="Color.Secondary">Active Shipments</MudText>
                <MudIcon Icon="@Icons.Material.Filled.LocalShipping" Color="Color.Warning" />
            </MudStack>
            <MudText Typo="Typo.h5" Style="font-weight: bold;">8</MudText>
            <MudText Typo="Typo.caption" Color="Color.Warning">2 in transit</MudText>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
        <MudPaper Elevation="4" Class="pa-4 d-flex flex-column gap-2" Style="height: 100%;">
             <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.subtitle2" Color="Color.Secondary">Recycled</MudText>
                <MudIcon Icon="@Icons.Material.Filled.Recycling" Color="Color.Success" />
            </MudStack>
            <MudText Typo="Typo.h5" Style="font-weight: bold;">8,900</MudText>
            <MudText Typo="Typo.caption" Color="Color.Success">89% rate</MudText>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="6" md="3">
         <MudPaper Elevation="4" Class="pa-4 d-flex flex-column gap-2" Style="height: 100%;">
             <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.subtitle2" Color="Color.Secondary">Alerts</MudText>
                <MudIcon Icon="@Icons.Material.Filled.Warning" Color="Color.Error" />
            </MudStack>
            <MudText Typo="Typo.h5" Style="font-weight: bold;">2</MudText>
            <MudText Typo="Typo.caption" Color="Color.Error">Requires attention</MudText>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudGrid Spacing="6">
    <!-- Main Chart -->
    <MudItem xs="12" lg="8">
        <MudPaper Elevation="4" Class="pa-6" Style="height: 400px;">
            <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Class="mb-4">
                <MudText Typo="Typo.h6">Real-time Recovery Analytics</MudText>
                 <MudSelect T="string" Label="Period" Variant="Variant.Outlined" Margin="Margin.Dense" Dense="true" Style="max-width: 150px;">
                    <MudSelectItem Value="@("Weekly")" />
                    <MudSelectItem Value="@("Monthly")" />
                    <MudSelectItem Value="@("Yearly")" />
                </MudSelect>
            </MudStack>
            
            <!-- Placeholder Chart - In a real app use MudChart -->
            <div class="d-flex align-center justify-center" style="height: 300px; background-color: #f5f5f5; border-radius: 8px; border: 2px dashed #e0e0e0;">
                <MudText Typo="Typo.body1" Color="Color.Secondary">Interactive Recovery Chart Loaded Here</MudText>
            </div>
        </MudPaper>
    </MudItem>

    <!-- Recent Activity -->
    <MudItem xs="12" lg="4">
        <MudPaper Elevation="4" Class="pa-6" Style="height: 400px; overflow-y: auto;">
             <MudText Typo="Typo.h6" Class="mb-4">Recent Activity</MudText>
             <MudList T="string" Dense="true">
                <MudListItem Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                    <MudText Typo="Typo.body2" Style="font-weight: bold;">Batch #8929 Verified</MudText>
                    <MudText Typo="Typo.caption">2 mins ago • Factory A</MudText>
                </MudListItem>
                <MudListItem Icon="@Icons.Material.Filled.LocalShipping" IconColor="Color.Warning">
                     <MudText Typo="Typo.body2" Style="font-weight: bold;">Transport #TR-402 Arrived</MudText>
                    <MudText Typo="Typo.caption">15 mins ago • Warehouse B</MudText>
                </MudListItem>
                <MudListItem Icon="@Icons.Material.Filled.QrCodeScanner" IconColor="Color.Info">
                     <MudText Typo="Typo.body2" Style="font-weight: bold;">Retail Scan</MudText>
                    <MudText Typo="Typo.caption">1 hour ago • Shop #12</MudText>
                </MudListItem>
                <MudListItem Icon="@Icons.Material.Filled.Recycling" IconColor="Color.Success">
                     <MudText Typo="Typo.body2" Style="font-weight: bold;">Recycle Lot #882 Processed</MudText>
                    <MudText Typo="Typo.caption">2 hours ago • Recycling Center</MudText>
                </MudListItem>
             </MudList>
        </MudPaper>
    </MudItem>
</MudGrid>
